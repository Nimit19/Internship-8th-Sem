{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialCartState = {\n  items: [],\n  totalQuantity: 0\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartState,\n  reducers: {\n    addItemToCart: (state, action) => {\n      const {\n        id,\n        title,\n        price\n      } = action.payload;\n      state.totalQuantity += 1;\n      const existingItem = state.items.find(item => item.id === id);\n      if (!existingItem) {\n        state.items.push({\n          id: id,\n          title: title,\n          price: price,\n          quantity: 1\n        });\n      } else {\n        existingItem.quantity++;\n      }\n\n      //   state.items = state.items.reduce(\n      //     (newItems, item) => {\n      //       if (item.id === action.payload.id) {\n\n      //         // 1]\n      //         const updatedItem = {...item, quantity: item.quantity + 1}\n\n      //         // 2]\n      //         // newItems[0].quantity += item.quantity;\n      //         return {...newItems, updatedItem};\n      //       }\n      //       return [...newItems, item];\n      //     },\n      //     [{...action.payload, quantity}]\n      //   );\n    },\n    removeItemFromCart: (state, action) => {\n      const id = action.payload;\n      state.totalQuantity -= 1;\n      const existingItem = state.items.find(item => item.id === id);\n      if (existingItem.quantity === 1) {\n        state.items.filter(item => item.id !== existing.id);\n      } else {\n        existingItem.quantity--;\n      }\n    }\n  }\n});\nexport const cartActions = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialCartState","items","totalQuantity","cartSlice","name","initialState","reducers","addItemToCart","state","action","id","title","price","payload","existingItem","find","item","push","quantity","removeItemFromCart","filter","existing","cartActions","actions"],"sources":["/home/nimit/Propelius Technologies/Internship8thSem/Full Stack Development/React JS/reduxCart/src/store/cart-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialCartState = {\n  items: [],\n  totalQuantity: 0,\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartState,\n  reducers: {\n    addItemToCart: (state, action) => {\n      const { id, title, price } = action.payload;\n      state.totalQuantity += 1;\n\n      const existingItem = state.items.find((item) => item.id === id);\n\n      if (!existingItem) {\n        state.items.push({\n          id: id,\n          title: title,\n          price: price,\n          quantity: 1,\n        });\n      } else {\n        existingItem.quantity++;\n      }\n\n      //   state.items = state.items.reduce(\n      //     (newItems, item) => {\n      //       if (item.id === action.payload.id) {\n\n      //         // 1]\n      //         const updatedItem = {...item, quantity: item.quantity + 1}\n\n      //         // 2]\n      //         // newItems[0].quantity += item.quantity;\n      //         return {...newItems, updatedItem};\n      //       }\n      //       return [...newItems, item];\n      //     },\n      //     [{...action.payload, quantity}]\n      //   );\n    },\n\n    removeItemFromCart: (state, action) => {\n      const id  = action.payload;\n      state.totalQuantity -= 1;\n\n      const existingItem = state.items.find((item) => item.id === id);\n\n\n        if(existingItem.quantity === 1) {\n\n          state.items.filter((item) => item.id !== existing.id)\n        }else{\n          existingItem.quantity--;\n\n        }\n      \n\n    },\n  },\n});\n\nexport const cartActions = cartSlice.actions;\nexport default cartSlice;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACvBC,KAAK,EAAE,EAAE;EACTC,aAAa,EAAE;AACjB,CAAC;AAED,MAAMC,SAAS,GAAGJ,WAAW,CAAC;EAC5BK,IAAI,EAAE,MAAM;EACZC,YAAY,EAAEL,gBAAgB;EAC9BM,QAAQ,EAAE;IACRC,aAAa,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChC,MAAM;QAAEC,EAAE;QAAEC,KAAK;QAAEC;MAAM,CAAC,GAAGH,MAAM,CAACI,OAAO;MAC3CL,KAAK,CAACN,aAAa,IAAI,CAAC;MAExB,MAAMY,YAAY,GAAGN,KAAK,CAACP,KAAK,CAACc,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;MAE/D,IAAI,CAACI,YAAY,EAAE;QACjBN,KAAK,CAACP,KAAK,CAACgB,IAAI,CAAC;UACfP,EAAE,EAAEA,EAAE;UACNC,KAAK,EAAEA,KAAK;UACZC,KAAK,EAAEA,KAAK;UACZM,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,MAAM;QACLJ,YAAY,CAACI,QAAQ,EAAE;MACzB;;MAEA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;IAEDC,kBAAkB,EAAEA,CAACX,KAAK,EAAEC,MAAM,KAAK;MACrC,MAAMC,EAAE,GAAID,MAAM,CAACI,OAAO;MAC1BL,KAAK,CAACN,aAAa,IAAI,CAAC;MAExB,MAAMY,YAAY,GAAGN,KAAK,CAACP,KAAK,CAACc,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;MAG7D,IAAGI,YAAY,CAACI,QAAQ,KAAK,CAAC,EAAE;QAE9BV,KAAK,CAACP,KAAK,CAACmB,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKW,QAAQ,CAACX,EAAE,CAAC;MACvD,CAAC,MAAI;QACHI,YAAY,CAACI,QAAQ,EAAE;MAEzB;IAGJ;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMI,WAAW,GAAGnB,SAAS,CAACoB,OAAO;AAC5C,eAAepB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}