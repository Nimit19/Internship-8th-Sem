{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialCartState = {\n  items: [],\n  totalQuantity: 0,\n  isChanged: false\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartState,\n  reducers: {\n    replicateCart: (state, action) => {\n      state.items = action.payload.items;\n      state.totalQuantity = action.payload.totalQuantity;\n      state.isChanged = false;\n    },\n    addItemToCart: (state, action) => {\n      state.isChanged = true;\n      const {\n        id,\n        title,\n        price\n      } = action.payload;\n      state.totalQuantity += 1;\n      const existingItem = state.items.find(item => item.id === id);\n      if (!existingItem) {\n        state.items.push({\n          id: id,\n          title: title,\n          price: price,\n          quantity: 1\n        });\n      } else {\n        existingItem.quantity++;\n      }\n\n      //   state.items = state.items.reduce(\n      //     (newItems, item) => {\n      //       if (item.id === action.payload.id) {\n\n      //         // 1]\n      //         const updatedItem = {...item, quantity: item.quantity + 1}\n\n      //         // 2]\n      //         // newItems[0].quantity += item.quantity;\n      //         return {...newItems, updatedItem};\n      //       }\n      //       return [...newItems, item];\n      //     },\n      //     [{...action.payload, quantity}]\n      //   );\n    },\n    removeItemFromCart: (state, action) => {\n      state.isChanged = true;\n      const id = action.payload;\n      state.totalQuantity -= 1;\n      const existingItem = state.items.find(item => item.id === id);\n      if (existingItem.quantity === 1) {\n        state.items = state.items.filter(item => item.id !== existingItem.id);\n      } else {\n        existingItem.quantity--;\n      }\n    }\n  }\n});\nexport const cartActions = cartSlice.actions;\nexport default cartSlice;","map":{"version":3,"names":["createSlice","initialCartState","items","totalQuantity","isChanged","cartSlice","name","initialState","reducers","replicateCart","state","action","payload","addItemToCart","id","title","price","existingItem","find","item","push","quantity","removeItemFromCart","filter","cartActions","actions"],"sources":["/home/nimit/Propelius Technologies/Internship8thSem/Full Stack Development/React JS/reduxCart/src/store/cart-slice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialCartState = {\n  items: [],\n  totalQuantity: 0,\n  isChanged: false,\n};\n\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: initialCartState,\n  reducers: {\n    replicateCart: (state, action) => {\n      state.items = action.payload.items;\n      state.totalQuantity = action.payload.totalQuantity;\n      state.isChanged = false;\n    },\n    addItemToCart: (state, action) => {\n      state.isChanged = true;\n\n      const { id, title, price } = action.payload;\n      state.totalQuantity += 1;\n\n      const existingItem = state.items.find((item) => item.id === id);\n\n      if (!existingItem) {\n        state.items.push({\n          id: id,\n          title: title,\n          price: price,\n          quantity: 1,\n        });\n      } else {\n        existingItem.quantity++;\n      }\n\n      //   state.items = state.items.reduce(\n      //     (newItems, item) => {\n      //       if (item.id === action.payload.id) {\n\n      //         // 1]\n      //         const updatedItem = {...item, quantity: item.quantity + 1}\n\n      //         // 2]\n      //         // newItems[0].quantity += item.quantity;\n      //         return {...newItems, updatedItem};\n      //       }\n      //       return [...newItems, item];\n      //     },\n      //     [{...action.payload, quantity}]\n      //   );\n    },\n\n    removeItemFromCart: (state, action) => {\n      state.isChanged = true;\n\n      const id = action.payload;\n      state.totalQuantity -= 1;\n\n      const existingItem = state.items.find((item) => item.id === id);\n\n      if (existingItem.quantity === 1) {\n        state.items = state.items.filter((item) => item.id !== existingItem.id);\n      } else {\n        existingItem.quantity--;\n      }\n    },\n  },\n});\n\nexport const cartActions = cartSlice.actions;\nexport default cartSlice;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,gBAAgB,GAAG;EACvBC,KAAK,EAAE,EAAE;EACTC,aAAa,EAAE,CAAC;EAChBC,SAAS,EAAE;AACb,CAAC;AAED,MAAMC,SAAS,GAAGL,WAAW,CAAC;EAC5BM,IAAI,EAAE,MAAM;EACZC,YAAY,EAAEN,gBAAgB;EAC9BO,QAAQ,EAAE;IACRC,aAAa,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChCD,KAAK,CAACR,KAAK,GAAGS,MAAM,CAACC,OAAO,CAACV,KAAK;MAClCQ,KAAK,CAACP,aAAa,GAAGQ,MAAM,CAACC,OAAO,CAACT,aAAa;MAClDO,KAAK,CAACN,SAAS,GAAG,KAAK;IACzB,CAAC;IACDS,aAAa,EAAEA,CAACH,KAAK,EAAEC,MAAM,KAAK;MAChCD,KAAK,CAACN,SAAS,GAAG,IAAI;MAEtB,MAAM;QAAEU,EAAE;QAAEC,KAAK;QAAEC;MAAM,CAAC,GAAGL,MAAM,CAACC,OAAO;MAC3CF,KAAK,CAACP,aAAa,IAAI,CAAC;MAExB,MAAMc,YAAY,GAAGP,KAAK,CAACR,KAAK,CAACgB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACL,EAAE,KAAKA,EAAE,CAAC;MAE/D,IAAI,CAACG,YAAY,EAAE;QACjBP,KAAK,CAACR,KAAK,CAACkB,IAAI,CAAC;UACfN,EAAE,EAAEA,EAAE;UACNC,KAAK,EAAEA,KAAK;UACZC,KAAK,EAAEA,KAAK;UACZK,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ,CAAC,MAAM;QACLJ,YAAY,CAACI,QAAQ,EAAE;MACzB;;MAEA;MACA;MACA;;MAEA;MACA;;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;IAEDC,kBAAkB,EAAEA,CAACZ,KAAK,EAAEC,MAAM,KAAK;MACrCD,KAAK,CAACN,SAAS,GAAG,IAAI;MAEtB,MAAMU,EAAE,GAAGH,MAAM,CAACC,OAAO;MACzBF,KAAK,CAACP,aAAa,IAAI,CAAC;MAExB,MAAMc,YAAY,GAAGP,KAAK,CAACR,KAAK,CAACgB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACL,EAAE,KAAKA,EAAE,CAAC;MAE/D,IAAIG,YAAY,CAACI,QAAQ,KAAK,CAAC,EAAE;QAC/BX,KAAK,CAACR,KAAK,GAAGQ,KAAK,CAACR,KAAK,CAACqB,MAAM,CAAEJ,IAAI,IAAKA,IAAI,CAACL,EAAE,KAAKG,YAAY,CAACH,EAAE,CAAC;MACzE,CAAC,MAAM;QACLG,YAAY,CAACI,QAAQ,EAAE;MACzB;IACF;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAMG,WAAW,GAAGnB,SAAS,CAACoB,OAAO;AAC5C,eAAepB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}